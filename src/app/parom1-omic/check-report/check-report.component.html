<!-- ANGULAR COMPONENT -->
<app-phase-banner></app-phase-banner>

<h1 class="heading-xlarge">Check your report</h1>

<app-notice>
  <span *ngIf="awaitingPOM">The Prison Offender Manager has not yet completed their section of this report.<br/>You cannot sign and date this report until they have done so.</span>
  <span *ngIf="!awaitingPOM">The Prison Offender Manager has completed their section of this report.<br/>You may sign and date your report when ready.</span>
</app-notice>

<ng-template ngFor let-section [ngForOf]="sections" let-index="index">

  <div *ngIf="!section.hide && (!section.dataOnly || isValid)">

    <table class="moj-table" role="presentation">
      <tbody>
      <tr>
        <td width="30" class="govuk-body-l">{{index + 1}}.</td>
        <td><a [routerLink]="section.route" class="govuk-body-l">{{section.label}}</a></td>
        <td width="80" align="right">
          <strong class="moj-page-status-tag moj-page-status-tag--saved fixed-width" *ngIf="section.saved && section.valid">SAVED</strong>
          <strong class="moj-page-status-tag moj-page-status-tag--incomplete fixed-width" *ngIf="section.saved && !section.valid">INCOMPLETE</strong>
          <strong class="moj-page-status-tag moj-page-status-tag--empty" *ngIf="!section.valid && !section.saved">Not started</strong>
        </td>
      </tr>
      </tbody>
    </table>

    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible" />

  </div>

</ng-template>

<app-footer [continueEnabled]="isValid" label="Sign" hint="Sign your report" [continue]="continueJourney"></app-footer>
