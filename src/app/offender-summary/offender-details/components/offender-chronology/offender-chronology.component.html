<div *ngIf="data">
  <app-accordion-panel [title]="'Events (' + data.EVENTS.length + ')'" id="2">

    <div class="moj-inside-panel">

      <!-- NO RISK DATA -->
      <div *ngIf="!data.EVENTS.length">
        <p class="govuk-body moj-!-text-align-center">No data</p>
      </div>

      <!--  -->
      <div *ngIf="data.EVENTS && data.EVENTS.length">

        <table class="govuk-table moj-table moj-table--split-rows govuk-!-margin-0" role="presentation">
          <tbody>

          <ng-template ngFor let-option [ngForOf]="data.EVENTS" let-index="index">
            <tr *ngIf="index < 3">
              <td colspan="3" class="moj-!-border-0 govuk-!-padding-bottom-0">
                <p class="govuk-!-margin-0 govuk-heading-s moj-!-color-blue moj-util-clickable">{{option.status}}</p>
              </td>
            </tr>
            <tr *ngIf="index < 3">
              <td class="govuk-!-padding-top-0">
                <p class="govuk-body moj-!-color-grey govuk-!-margin-bottom-0">{{option.primaryOffence}}</p>
              </td>
              <td width="110" class="govuk-!-padding-top-0">
                <p class="govuk-body moj-!-color-grey govuk-!-margin-bottom-0">{{option.date}}</p>
              </td>
              <td width="100" class="govuk-!-padding-top-0">
                <p class="govuk-body govuk-!-font-size-19 moj-!-text-align-right govuk-!-margin-bottom-0"
                   [ngClass]="{ 'moj-!-color-green': option.active, 'moj-!-color-red': !option.active }">
                  {{option.active ? 'Active' : 'Terminated'}}</p>
              </td>
            </tr>
          </ng-template>

          </tbody>
        </table>

        <div class="moj-timeline__item moj-timeline__item--more-items govuk-!-margin-top-4"
             *ngIf="data.EVENTS.length > 3">
          <p class="govuk-body moj-!-text-align-center govuk-!-margin-bottom-0"><a href="javascript:void(0);">View more
            events</a></p>
        </div>

      </div>

    </div>

  </app-accordion-panel>
</div>
