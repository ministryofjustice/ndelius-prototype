<!-- ANGULAR COMPONENT -->
<app-phase-banner></app-phase-banner>

<h1 class="govuk-heading-xl govuk-!-margin-top-6">OPD pathway</h1>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-third">
    <app-sub-navigation></app-sub-navigation>
  </div>
  <div class="govuk-grid-column-two-thirds">

    <!-- ANGULAR COMPONENT -->
    <app-form-error [group]="reportForm" [error]="formError && !reportForm.valid"
                    [controls]="[{ name: 'opdPathway', error: 'Specify whether the prisoner has met the OPD screening criteria and been considered for OPD pathway services' }]">
    </app-form-error>

    <form [formGroup]="reportForm" (ngSubmit)="onSubmit(reportForm)" novalidate>

      <!-- ANGULAR COMPONENT -->
      <app-radio-buttons [group]="reportForm" name="opdPathway" [options]="['Yes', 'No']" conditional="true"
                         help="Select Yes even if OPD services have only been asked for advice."
                         required="true" [error]="formError" inline="true"
                         label="Has the prisoner met the OPD screening criteria and been considered for OPD pathway services?"
                         errorMessage="Specify whether the prisoner has met the OPD screening criteria and been considered for OPD pathway services">

        <ng-template let-option let-inline>
          <div class="govuk-radios__conditional"
               *ngIf="(option === 'Yes' || inline) && reportForm.get('opdPathway').value === 'Yes'">

            <p class="govuk-body">Record any OPD pathway information about the prisoner in the relevant sections of the
              report. For example, if an intervention has been assessed as appropriate to manage risk include this in
              the RMP and sentence plan sections.</p>
          </div>
        </ng-template>

      </app-radio-buttons>

      <!-- ANGULAR COMPONENT -->
      <app-footer></app-footer>

    </form>

  </div>
</div>
